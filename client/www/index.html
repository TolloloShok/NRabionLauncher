<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>[N]-Rabion</title>
        <link rel="stylesheet" href="./css/core.css">
        <link href="https://fonts.googleapis.com/css?family=Lobster|Marck+Script|Roboto" rel="stylesheet">
    </head>
    <body>
        <main>
            <div class="page" data-page="loading">
                <h1>Подождите...</h1>
            </div>
            <div class="page hidden" data-page="download_launcher">
                Обновление лаунчера
                <div id="download_launcher"></div>
            </div>
            <div class="page hidden" data-page="start_update_launcher">
                Подождите пока производится обновление лаунчера
            </div>
            <div class="page hidden" data-page="download">
                Загрузка клиента
                <div id="download_items_progress"></div>
                <div id="download_items"></div>
            </div>
            <div class="page hidden" data-page="auth">
                <div class="page-wrapper">
                    <div class="page-content">
                        <input id="username" type="text" name="username" placeholder="Логин">
                        <input id="password" type="password" name="password" placeholder="Пароль">
                        <button id="btnLogin" class="btn-default">Вход</button>
                    </div>
                </div>
            </div>
            <div class="page hidden" data-page="account">
                <button id="run" class="btn-default">Играть!</button>
            </div>
            <div class="page hidden" data-page="playing">
                Вы в игре! Дождитесь запуска игры, а это окно можно свернуть.
            </div>
        </main>
        <footer>
            <small>Версия лаунчера <span id="version"></span> / <a id="nrabion_link" href="#">[N]-Rabion</a></small>
        </footer>
    </body>
    <script>
        let remote = require('electron').remote
        let version = remote.getGlobal('sharedObj').version
        let mainWindow = remote.getCurrentWindow()

        document.getElementById("version").innerText = version

        window.launcherVersion = version
        window.mainWindow = mainWindow

        window.onload = () => {
            // Wait for loading background image
            setTimeout(() => {
                window.$ = window.jQuery = require('jquery');
                require("./js/core.js");
            }, 128)
        }
    </script>
</html>
