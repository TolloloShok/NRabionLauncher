<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>[N]-Rabion</title>
        <link rel="stylesheet" href="./css/core.css">
        <link rel="stylesheet" href="./css/loader.css">
        <link rel="stylesheet" href="./css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Lobster|Roboto" rel="stylesheet">
    </head>
    <body>
        <main>
            <div class="page" data-page="loading">
                <div class="loader">Загрузка</div>
            </div>

            <div class="page hidden" data-page="download_launcher">
                <h1>Обновление лаунчера</h1>
                <div id="download-launcher-progress"></div>
            </div>

            <div class="page hidden" data-page="download">
                <h1>Загрузка клиента</h1>
                <div id="download-client-progress"></div>
            </div>

            <div class="page hidden" data-page="auth">
                <div class="page-wrapper">
                    <div class="page-content">
                        <input id="username" type="text" name="username" placeholder="Логин">
                        <input id="password" type="password" name="password" placeholder="Пароль">
                        <button id="button-login" class="btn-default"><i class="fa fa-sign-in" aria-hidden="true"></i> Вход</button>
                    </div>
                </div>
            </div>

            <div class="page hidden" data-page="account">
                <div class="page-header-container">
                    <div class="title">
                        Добро пожаловать, <span id="account-username" data-bind="username"></span>!
                    </div>
                    <div>
                        <button id="button-run" class="btn-default"><i class="fa fa-play-circle" aria-hidden="true"></i> Играть!</button>
                        <button id="button-exit" class="btn-default"><i class="fa fa-sign-out" aria-hidden="true"></i> Выйти</button>
                    </div>
                </div>
            </div>

            <div class="page hidden" data-page="playing">
                <div class="page-text">
                    <p>Вы в игре! Дождитесь запуска игры.</p>
                    <p>Окно лаунчера можно оставить свернутым на время игры. Либо закрыть, если необходимо.</p>
                </div>
            </div>
        </main>
        <footer>
            <small>Версия лаунчера <span id="version"></span> / <a id="nrabion_link" href="#">[N]-Rabion</a></small>
        </footer>
    </body>
    <script>
        let remote = require('electron').remote
        let version = remote.getGlobal('sharedObj').version
        let mainWindow = remote.getCurrentWindow()

        document.getElementById("version").innerText = version

        window.launcherVersion = version
        window.mainWindow = mainWindow

        window.onload = () => {
            // Wait for loading background image
            setTimeout(() => {
                window.$ = window.jQuery = require('jquery');
                require("./js/core.js");
            }, 200)
        }
    </script>
</html>
